(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{700:function(t,a,n){"use strict";n.r(a);var s=n(4),e=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[a("code",[t._v("VectorContext")]),t._v(" 类是 Openlayers 中与矢量图形绘制相关的上下文对象，它提供了一系列方法来在 "),a("code",[t._v("canvas")]),t._v(" 上绘制各种几何图形（如点、线、多边形等）。这个类主要用于在 Openlayers 的 "),a("code",[t._v("Canvas")]),t._v(" 渲染模式下，定制和执行具体的矢量图形渲染操作。")]),t._v(" "),a("h2",{attrs:{id:"vectorcontext类源码分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vectorcontext类源码分析"}},[t._v("#")]),t._v(" "),a("code",[t._v("VectorContext")]),t._v("类源码分析")]),t._v(" "),a("h3",{attrs:{id:"vectorcontext的源码实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vectorcontext的源码实现"}},[t._v("#")]),t._v(" "),a("code",[t._v("VectorContext")]),t._v("的源码实现")]),t._v(" "),a("p",[a("code",[t._v("VectorContext")]),t._v("的源码实现如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VectorContext")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawCustom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" renderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hitDetectionRenderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("geometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawCircle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("circleGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawFeature")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawGeometryCollection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("geometryCollectionGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLineString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("lineStringGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawMultiLineString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("multiLineStringGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawMultiPoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("multiPointGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawMultiPolygon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("multiPolygonGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawPoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("pointGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawPolygon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("polygonGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFillStrokeStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fillStyle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" strokeStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImageStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("imageStyle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" declutterImageWithText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTextStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("textStyle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" declutterImageWithText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br")])]),a("h3",{attrs:{id:"vectorcontext的主要方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vectorcontext的主要方法"}},[t._v("#")]),t._v(" "),a("code",[t._v("VectorContext")]),t._v("的主要方法")]),t._v(" "),a("p",[a("code",[t._v("VectorContext")]),t._v("的主要方法如下：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("drawCustom(geometry, feature, renderer, hitDetectionRenderer, index)")]),t._v("：用于自定义绘制操作。可以根据需要自定义几何图形的绘制过程。")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("geometry")]),t._v(": 要绘制的几何图形对象。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("feature")]),t._v(": 该几何图形对应的要素。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("renderer")]),t._v(": 用于渲染的渲染器。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("hitDetectionRenderer")]),t._v(": 用于命中的渲染器，通常用于交互功能（如点击检测）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("index")]),t._v(": 绘制的索引。")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawGeometry(geometry)")]),t._v("：用于绘制单个几何图形（如点、线、面等）。该方法会根据几何类型调用相应的具体绘制方法。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("setStyle(style)")]),t._v("：设置绘制样式，用来指定如何渲染几何图形的填充、描边等样式。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawCircle(circleGeometry, feature, index)")]),t._v("：绘制圆形几何图形。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawFeature(feature, style, index)")]),t._v("：绘制一个要素（"),a("code",[t._v("feature")]),t._v("），并根据指定的样式来渲染它。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawGeometryCollection(geometryCollectionGeometry, feature, index)")]),t._v("：绘制几何图形集合。如果一个要素包含多个几何图形（例如，"),a("code",[t._v("MultiPolygon")]),t._v("），则此方法会被调用。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawLineString(lineStringGeometry, feature, index)")]),t._v("：绘制线条几何图形（"),a("code",[t._v("LineString")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawMultiLineString(multiLineStringGeometry, feature, index)")]),t._v("：绘制多条线几何图形（"),a("code",[t._v("MultiLineString")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawMultiPoint(multiPointGeometry, feature, index)")]),t._v("：绘制多点几何图形（"),a("code",[t._v("MultiPoint")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawMultiPolygon(multiPolygonGeometry, feature, index)")]),t._v("：绘制多边形集合（"),a("code",[t._v("MultiPolygon")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawPoint(pointGeometry, feature, index)")]),t._v("：绘制单个点几何图形（"),a("code",[t._v("Point")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawPolygon(polygonGeometry, feature, index)")]),t._v("：绘制单个多边形几何图形（"),a("code",[t._v("Polygon")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drawText(geometry, feature, index)")]),t._v("：绘制文本几何图形。通常用于绘制标签或注释。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("setFillStrokeStyle(fillStyle, strokeStyle)")]),t._v("：设置填充样式和边框样式。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("fillStyle")]),t._v(" 用于设置填充颜色、渐变等")]),t._v(" "),a("li",[a("code",[t._v("strokeStyle")]),t._v(" 用于设置边框颜色、宽度等。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("setImageStyle(imageStyle, declutterImageWithText)")]),t._v(": 设置图像样式，用于渲染图片类型的几何（如图标）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("declutterImageWithText")]),t._v("：是一个优化参数，用于在文本和图像重叠时处理去重逻辑，避免绘制冲突。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("setTextStyle(textStyle, declutterImageWithText)")]),t._v("：设置文本样式，用于控制文本的显示效果。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("declutterImageWithText")]),t._v(" 用于去重图像和文本，避免它们相互遮挡。")])])]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("如上所示，"),a("code",[t._v("VectorContext")]),t._v("类只是定义了这些方法，并未实现，相当于一个说明文档，用于标识上下文对象，进而将矢量数据绘制到地图即"),a("code",[t._v("canvas")]),t._v("上。")])])}),[],!1,null,null,null);a.default=e.exports}}]);