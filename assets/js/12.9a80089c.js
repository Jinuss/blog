(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{398:function(t,s,a){t.exports=a.p+"assets/media/css动画1.8d0114b4.mp4"},399:function(t,s,a){t.exports=a.p+"assets/media/css动画2.511d0149.mp4"},400:function(t,s,a){t.exports=a.p+"assets/img/css_animation.e36935ab.png"},538:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("本文主要讲述"),s("strong",[t._v("CSS 滚动驱动动画")]),t._v("（"),s("code",[t._v("CSS scroll-driven0animations")]),t._v("），这一特性在"),s("code",[t._v("Chrome 115")]),t._v("中就得到了支持。")]),t._v(" "),s("h2",{attrs:{id:"css-滚动驱动动画的意义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-滚动驱动动画的意义"}},[t._v("#")]),t._v(" CSS 滚动驱动动画的意义")]),t._v(" "),s("p",[t._v("在这个特性之前，监听浏览器滚动事件需要借助 Javascript 进行控制，但是这种传统的方式会有卡顿的问题。因为浏览器的滚动和页面的渲染是不同的进程在执行，因此只能异步传递滚动事件。而 CSS 滚动动画就是为了解决这个卡顿的问题。")]),t._v(" "),s("p",[t._v("CSS 滚动驱动动画指的就是将动画的执行过程由页面滚动进行接管，在这种情况下，动画只会跟随页面的滚动的变化而变化，动画执行再不用设置时长，页面滚动多少，页面执行多少。")]),t._v(" "),s("h2",{attrs:{id:"示例展示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例展示"}},[t._v("#")]),t._v(" 示例展示")]),t._v(" "),s("p",[s("strong",[t._v("滚动进度示例 1")])]),t._v(" "),s("video",{attrs:{controls:"",autoplay:"",loop:"",muted:"",width:"600"},domProps:{muted:!0}},[s("source",{attrs:{src:a(398),type:"video/mp4"}})]),t._v(" "),s("p",[s("strong",[t._v("视图进度示例 2")])]),t._v(" "),s("video",{attrs:{controls:"",autoplay:"",loop:"",muted:"",width:"600"},domProps:{muted:!0}},[s("source",{attrs:{src:a(399),type:"video/mp4"}})]),t._v(" "),s("h2",{attrs:{id:"css-滚动驱动动画实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-滚动驱动动画实践"}},[t._v("#")]),t._v(" CSS 滚动驱动动画实践")]),t._v(" "),s("p",[t._v("CSS 滚动驱动动画主要分为两个场景：一个是滚动进度时间线，即"),s("code",[t._v("scroll()")]),t._v(" ,如示例 1；另一个就是视图进度时间线，即"),s("code",[t._v("view()")]),t._v("，如示例 2。")]),t._v(" "),s("h3",{attrs:{id:"滚动进度时间线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#滚动进度时间线"}},[t._v("#")]),t._v(" 滚动进度时间线")]),t._v(" "),s("p",[t._v("滚动进度时间线（"),s("code",[t._v("scroll progress timeline")]),t._v("）表示页面或者容器滚动，同时将滚动的进度同步到动画进度作为动画的进度。")]),t._v(" "),s("p",[t._v("如下是它的语法：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 无参数 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 设置滚动容器 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nearest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 最近的父元素作为滚动容器也是默认值 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*文档视口作为滚动容器 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*元素本身作为滚动容器*/")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 设置滚动方向 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  块级轴方向默认 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**内联轴方向 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**y轴方向滚动 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**x轴方向滚动 */")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 同时设置 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("block nearest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 默认 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inline root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h3",{attrs:{id:"视图进度时间线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视图进度时间线"}},[t._v("#")]),t._v(" 视图进度时间线")]),t._v(" "),s("p",[t._v("视图进度时间线 （"),s("code",[t._v("view progress timeline")]),t._v("），其实这个也和滚动条的滚动行为也有关系，但是关注点是元素（或称为视图）是否进入视野内，刚进入视野是"),s("strong",[t._v("0%")]),t._v("，离开视野是"),s("strong",[t._v("100%")]),t._v("。")]),t._v(" "),s("p",[t._v("其语法如下：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("示例2中就通过"),s("code",[t._v("view-timeline-inset")]),t._v("指定了视野范围，即中间位置，所以只有处在中间的元素才会执行对应的动画（就是导航名称高亮）。")]),t._v(" "),s("h2",{attrs:{id:"css-动画范围区间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-动画范围区间"}},[t._v("#")]),t._v(" CSS 动画范围区间")]),t._v(" "),s("p",[t._v("CSS动画范围区间可以参考这篇文章"),s("a",{attrs:{href:"https://juejin.cn/post/7259026189904805944#heading-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/7259026189904805944#heading-4"),s("OutboundLink")],1),t._v("，介绍的非常详细。")]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("最后用"),s("a",{attrs:{href:"https://juejin.cn/user/3579665587900030/posts",target:"_blank",rel:"noopener noreferrer"}},[t._v("@XboxYan"),s("OutboundLink")],1),t._v("的一张图总结")]),t._v(" "),s("img",{attrs:{src:a(400)}})])}),[],!1,null,null,null);s.default=e.exports}}]);