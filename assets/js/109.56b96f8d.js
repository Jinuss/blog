(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{511:function(t,s,a){"use strict";a.r(s);var e=a(4),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[s("em",[t._v("ECMAScript2022")]),t._v("于2022年6月22日正式发布， 本文会介绍"),s("em",[t._v("ECMAScript2022(ES13)")]),t._v("，即ECMAScript的第13个版本的新特性。")]),t._v(" "),s("p",[t._v("以下摘自官网："),s("a",{attrs:{href:"https://tc39.es/ecma262/multipage/#sec-intro",target:"_blank",rel:"noopener noreferrer"}},[t._v("ecma-262"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("ECMAScript 2022, the 13th edition, introduced top-level await, allowing the keyword to be used at the top level of modules; new class elements: public and private instance fields, public and private static fields, private instance methods and accessors, and private static methods and accessors; static blocks inside classes, to perform per-class evaluation initialization; the #x in obj syntax, to test for presence of private fields on objects; regular expression match indices via the /d flag, which provides start and end indices for matched substrings; the cause property on Error objects, which can be used to record a causation chain in errors; the at method for Strings, Arrays, and TypedArrays, which allows relative indexing; and Object.hasOwn, a convenient alternative to Object.prototype.hasOwnProperty.")])]),t._v(" "),s("h2",{attrs:{id:"ecmascript2022-es13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ecmascript2022-es13"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ECMAScript2022(ES13)")])]),t._v(" "),s("p",[s("code",[t._v("ES2022")]),t._v("的新特性如下：")]),t._v(" "),s("ul",[s("li",[t._v("顶级"),s("code",[t._v("await")])]),t._v(" "),s("li",[t._v("类的增强")]),t._v(" "),s("li",[t._v("数组/字符串/类型化的"),s("code",[t._v(".at")]),t._v("方法")]),t._v(" "),s("li",[t._v("正则表达式匹配索引")]),t._v(" "),s("li",[s("code",[t._v("Object.hasOwn")]),t._v("方法")]),t._v(" "),s("li",[t._v("类字段声明")]),t._v(" "),s("li",[s("code",[t._v("in")]),t._v("操作符")])]),t._v(" "),s("h3",{attrs:{id:"顶级await"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#顶级await"}},[t._v("#")]),t._v(" 顶级"),s("code",[t._v("await")])]),t._v(" "),s("p",[s("code",[t._v("ES2022")]),t._v("允许在模块的顶级作用域使用"),s("code",[t._v("await")]),t._v("关键字， 之前"),s("code",[t._v("await")]),t._v("关键字只能在"),s("code",[t._v("async")]),t._v("函数内部使用。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模块顶层直接使用await")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/config'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" settings "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h4",{attrs:{id:"兼容性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#兼容性"}},[t._v("#")]),t._v(" 兼容性")]),t._v(" "),s("h3",{attrs:{id:"类的增强"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类的增强"}},[t._v("#")]),t._v(" 类的增强")]),t._v(" "),s("p",[s("code",[t._v("ES2022")]),t._v("新增了多种类成员类型，增强了类的封装性和灵活性")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("公共/私有实例字段")])]),t._v(" "),s("ol",[s("li",[t._v("公共实例字段：可直接在类中声明。无需在构造函数中赋值，如"),s("code",[t._v("class A {x=1;}")])]),t._v(" "),s("li",[t._v("私有实例字段: 以"),s("code",[t._v("#")]),t._v("为前缀，仅能在类内部访问，如"),s("code",[t._v("class A{#y=2;getY(){return this.#y}}")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("公共/私有静态字段")])]),t._v(" "),s("ol",[s("li",[t._v("静态字段属于类本身，而非实例")]),t._v(" "),s("li",[t._v("公共静态字段，如"),s("code",[t._v("class A{ statics z =3}")]),t._v(";私有静态字段如"),s("code",[t._v("class A{ statics #z=4}")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("私有实例方法及访问器")]),t._v("\n私有方法和"),s("code",[t._v("getter/setter")]),t._v("同样以"),s("code",[t._v("#")]),t._v("为前缀，仅在类内部可调用，如"),s("code",[t._v("class A {#privateMethod(){};get # prop(){}}")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("私有静态方法及访问器")]),t._v("\n静态私有方法属于类，仅类内部可访问，用于类级别的私有逻辑，如"),s("code",[t._v("class A{static #privateStaticMethod(){};static get #prop(){}}")])]),t._v(" "),s("h4",{attrs:{id:"兼容性-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#兼容性-2"}},[t._v("#")]),t._v(" 兼容性")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);