---
title: CRS.EPSG4326
date: 2025-04-10 13:59:17
permalink: /pages/f36d65/
categories:
  - 《Leaflet源码》笔记
  - geo
  - crs
tags:
  -
author:
  name: 东流
  link: https://github.com/Jinuss
---

## 概述

`CRS.EPSG4326`是一个地理坐标系，基于**等距圆柱投影**，对应**EPSG:4326**(WGS84 地理坐标)，符合`EPSG:4326`标准，适用于全球定位系统（GPS）、导航等需要精确坐标的场景。

## 源码分析

### 源码实现

`CRS.EPSG4326`的源码实现如下：

```js
export var EPSG4326 = Util.extend({}, Earth, {
  code: "EPSG:4326", //标识符，代表WGS84，经纬度直接作为坐标值
  projection: LonLat, // 等距圆柱投影，直接映射
  // 坐标变换矩阵
  transformation: toTransformation(1 / 180, 1, -1 / 180, 0.5),
});
```

#### 变换矩阵详解

**作用**：

- **X 轴** ​​：将经度 `[-180°, 180°]` 映射到 `[0, 2]`（因 `1/180 \* 180 + 1 = 2`），进一步缩放后适配瓦片坐标。
- **Y 轴** ​​：将纬度 `[-90°, 90°]` 映射到 `[1, 0]`（翻转方向，确保原点在左上角）。
- **归一化** ​​：最终坐标范围调整为 `[0, 1]`，方便瓦片索引计算

### EPSG:4326 和 EPSG:3857 对比

| 特性            | EPSG:4326                   | EPSG:3857 (Web Mercator)   |
| --------------- | --------------------------- | -------------------------- |
| ​ ​ 投影类型 ​​ | 等距圆柱投影                | 球形墨卡托投影             |
| ​​ 坐标单位 ​​  | 经纬度（度数）              | 米（平面坐标）             |
| ​​ 高纬度变形   | ​​ 无（保留真实比例）       | 严重拉伸（两极区域）       |
| ​​ 适用场景     | ​​ GIS 数据叠加、科学可视化 | 在线地图（Google Maps 等） |
| ​​ 瓦片标准     | ​​ TMS                      | XYZ（Slippy 地图）         |


## 总结

`CRS.EPSG4326` 是一个精确、适合全球定位系统的地理坐标系，适用于需要精确坐标的应用。