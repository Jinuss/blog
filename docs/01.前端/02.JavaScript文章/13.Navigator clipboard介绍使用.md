---
title: Navigator clipboardä»‹ç»ä½¿ç”¨
date: 2024-05-21 11:21:01
permalink: /pages/fd4djglw5891bc
categories:
  - å‰ç«¯
  - JavaScript
tags:
  - null
author:
  name: ä¸œæµ
  link: https://github.com/Jinuss
---

### æ¦‚è¿°

`Navigator.clipboard`å¯¹è±¡æä¾›äº†ç³»ç»Ÿå‰ªè´´æ¿è¯»å†™è®¿é—®èƒ½åŠ›,ç”¨ä»¥å–ä»£`document.execCommand()`,åŽè€…å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¦‚æµè§ˆå™¨å…¼å®¹æ€§ä¸ä¸€è‡´ã€å®‰å…¨æ€§é—®é¢˜å’Œç¼ºä¹è¯­ä¹‰åŒ–ï¼ŒW3C å·²å°†å…¶ä»Žè§„èŒƒä¸­ç§»é™¤ã€‚

æ‰€æœ‰ Clipboard API æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ª`Promise`å¯¹è±¡ï¼Œåœ¨å‰ªè´´æ¿è®¿é—®å®ŒæˆåŽè¢«å…‘çŽ°ï¼›å¦‚æžœå‰ªè´´æ¿è®¿é—®è¢«æ‹’ç»ï¼Œpromise å¯¹è±¡ä¼šè¢«æ‹’ç»ã€‚

### æ–¹æ³•

- `read()` : ä»Žå‰ªè´´æ¿è¯»å–æ•°æ®ï¼Œè¿”å›žä¸€ä¸ª promise å¯¹è±¡ï¼Œåœ¨æ£€ç´¢åˆ°æ•°æ®åŽï¼Œpromise å°†å…‘çŽ°ä¸€ä¸ª`ClipboardItem`å¯¹è±¡çš„æ•°ç»„æ¥æä¾›å‰ªåˆ‡æ¿æ•°æ®
- `readText()`: ä»Žå‰ªè´´æ¿è¯»å–æ–‡æœ¬æ•°æ®ï¼Œè¿”å›žä¸€ä¸ª promise å¯¹è±¡ï¼Œåœ¨æ£€ç´¢åˆ°æ–‡æœ¬åŽï¼Œpromise å°†å…‘çŽ°ä¸€ä¸ªå­—ç¬¦ä¸²

- `write()`:å†™å…¥ä»»æ„æ•°æ®åˆ°æ“ä½œç³»ç»Ÿçš„å‰ªè´´æ¿ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œ

- `writeText()`: å†™å…¥æ–‡æœ¬æ•°æ®åˆ°æ“ä½œç³»ç»Ÿçš„å‰ªè´´æ¿ä¸­ï¼Œå¾…æ–‡æœ¬è¢«å®Œå…¨å†™å…¥å‰ªè´´æ¿åŽï¼Œè¿”å›žçš„ promise å°†è¢«å…‘çŽ°

ç¤ºä¾‹å¦‚ä¸‹ï¼š

```js
navigator.clipboard.writeText(text).then(
  () => {
    ElMessage.success("å¤åˆ¶æ–‡æœ¬æˆåŠŸ");
  },
  (err) => {
    console.log("ðŸš€ ~ copyText ~ err:", err);
  }
);
```
