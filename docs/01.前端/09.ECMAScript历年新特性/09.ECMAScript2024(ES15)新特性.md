---
title: ECMAScript2024(ES15)新特性
date: 2025-07-30 15:19:26
permalink: /pages/03b934/
categories:
  - 前端
  - ECMAScript历年新特性
tags:
  - 
author: 
  name: 东流
  link: https://github.com/Jinuss
---

## 概述

*ECMAScript2022*于2022年6月22日正式发布， 本文会介绍*ECMAScript2022(ES13)*，即ECMAScript的第13个版本的新特性。

以下摘自官网：[ecma-262](https://tc39.es/ecma262/multipage/#sec-intro)

>

**ECMAScript2024**的新特性如下：

- **Group By**分组：`Object.groupBy`和`Map.group`
- `Promise.withResolvers`
- 正则表达式标志 `/v`
- `ArrayBuffers`和`SharedArrayBuffers`
- `String.prototype.isWellFormed`和`String.prototype.toWellFormed`
- `Atomics.waitAsync()`

#### Group By分组

`ES2024`引入`Object.groupBy`和`Map.groupBy`方法就是用于根据指定的条件对对象或可迭代对象进行分组。需要注意的是`Object.groupBy`方法返回的对象是没有原型的对象，无法继承`Object.prototype`上的任何属性或方法；另外它的第二个参数回调函数应该返回一个字符串或`Symbol`类型。

#### `Promise.withResolvers`

`ES2024`引入`Promise.withResolvers`方法，用于创建一个`Promise`对象，该对象的`resolve`和`reject`方法可以在任何时候调用。使用示例如下

```js
const { promise, resolve, reject } = Promise.withResolvers();  
  
// 在这里可以使用 resolve 和 reject 函数  
setTimeout(() => resolve('成功！'), 8000);  
  
promise.then(value => {  
  console.log(value); 
});
```
其中`resolve`和`reject`与`promise`本身是处于同一作用域，而不是在执行器中被创建和一次性使用，这对于更细粒度控制`Promise`状态非常有用。

#### 正则表达式`v`标志

`ES2024`提出的`v`标志是`u`标志的超集，且`v`还提供另外两个功能：
- 字符串的`Unicode`属性：通过`Unicode`属性转义，可以使用字符串的属性
- 设置符号：允许在字符类之间进行集合操作

#### `ArrayBuffers`与`SharedArrayBuffers`

##### `ArrayBuffers`

- `ArrayBuffer.prototype.resize`：用于调整`ArrayBuffer`的实例大小，以字节为单位，并且该指定的大小不能大于该实例的`maxByteLength`
- `ArrayBuffer.prototype.transfer`：将当前`ArrayBuffer`的字节复制到一个新的`ArrayBuffer`对象中

##### `SharedArrayBuffers`

`SharedArrayBuffer`通用可调整大小，但是它只能扩大而不能缩小，而且也不能转移。


#### `isWellFormed`/`toWellFormed`

- `isWellFormed`：用于检查一个UTF-16编码字符串是否包含孤立的代理项
- `toWellFormed`：用于将一个UTF-16编码字符串中的孤立代理项替换为替换字符U+FFFD

#### `Atomics.waitAsync`

`Atomics.waitAsync`静态方法异步等待共享内存的特定位置并返回一个`Promise`。