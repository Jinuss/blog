---
title: ECMAScript2022(ES13)新特性
date: 2025-07-30 15:18:39
permalink: /pages/234642/
categories:
  - 前端
  - ECMAScript历年新特性
tags:
  - 
author: 
  name: 东流
  link: https://github.com/Jinuss
---

## 概述

*ECMAScript2022*于2022年6月22日正式发布， 本文会介绍*ECMAScript2022(ES13)*，即ECMAScript的第13个版本的新特性。

以下摘自官网：[ecma-262](https://tc39.es/ecma262/multipage/#sec-intro)

>ECMAScript 2022, the 13th edition, introduced top-level await, allowing the keyword to be used at the top level of modules; new class elements: public and private instance fields, public and private static fields, private instance methods and accessors, and private static methods and accessors; static blocks inside classes, to perform per-class evaluation initialization; the #x in obj syntax, to test for presence of private fields on objects; regular expression match indices via the /d flag, which provides start and end indices for matched substrings; the cause property on Error objects, which can be used to record a causation chain in errors; the at method for Strings, Arrays, and TypedArrays, which allows relative indexing; and Object.hasOwn, a convenient alternative to Object.prototype.hasOwnProperty.

## **ECMAScript2022(ES13)**

`ES2022`的新特性如下：

- 顶级`await`
- 类的增强
- 数组/字符串/类型化的`.at`方法
- 正则表达式匹配索引
- `Object.hasOwn`方法
- 类字段声明
- `in`操作符

### 顶级`await`

`ES2022`允许在模块的顶级作用域使用`await`关键字， 之前`await`关键字只能在`async`函数内部使用。

```js
// 模块顶层直接使用await
const config = await fetch('/api/config');
export const settings = await config.json();
```

#### 兼容性

### 类的增强

`ES2022`新增了多种类成员类型，增强了类的封装性和灵活性

- **公共/私有实例字段**
  1. 公共实例字段：可直接在类中声明。无需在构造函数中赋值，如`class A {x=1;}`
  2. 私有实例字段: 以`#`为前缀，仅能在类内部访问，如`class A{#y=2;getY(){return this.#y}}`
   
- **公共/私有静态字段**
  1. 静态字段属于类本身，而非实例
  2. 公共静态字段，如`class A{ statics z =3}`;私有静态字段如`class A{ statics #z=4}`

- **私有实例方法及访问器**
  私有方法和`getter/setter`同样以`#`为前缀，仅在类内部可调用，如`class A {#privateMethod(){};get # prop(){}}`

- **私有静态方法及访问器**
  静态私有方法属于类，仅类内部可访问，用于类级别的私有逻辑，如`class A{static #privateStaticMethod(){};static get #prop(){}}`

  #### 兼容性